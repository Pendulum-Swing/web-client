<aside class="menu">
  <ul class="menu-list">
    <li title="Profile">
      <a [routerLink]="['/profile']" (click)="updateIndex(1)" [ngClass]="{'is-active': activeItemNumber === 1 }" >
        <img *ngIf="user.profileImage" class="ps-user-image"
             src="{{user.profileImage? config.imagesEndpoint + '/profile/' + user.profileImage :
                      'assets/images/placeholder.png'}}" >
        <svg *ngIf="!user.profileImage" class="ps-user-image" width="36" height="36" [identiconHash]="emailHash">
          Fallback text for browsers not supporting inline svg
        </svg>
      </a>
    </li>
    <li title="Dashboard"><a [ngClass]="{'is-active': activeItemNumber === 3 }" [routerLink]="['dashboard']" (click)="updateIndex(3)"><span class="icon-dashboard"></span></a></li>
    <li title="Notifications">
      <a [ngClass]="{'is-active': activeItemNumber === 2 }" #notifications (click)="toggleNotifications()">
        <span class="icon-bell"></span>
        <span class="ps-notification-count" *ngIf="user.pendingInvitations.length>0">{{user.pendingInvitations.length}}</span>
      </a>
    </li>
    <li title="Give us a gift"><a [ngClass]="{'is-active': activeItemNumber === 4 , 'is-disabled': !netConnected}" target="_blank" href="https://www.coinpayments.net/index.php?cmd=_donate&reset=1&merchant=d88653deee05911e2438e35ec41c865e&item_name=Give%20some%20love%20to%20Pendulums%20project&currency=USD&amountf=10.00000000&allow_amount=1&want_shipping=0&allow_extra=1&cstyle=grid2"><span class="icon-gift"></span></a></li>
    <li class="ps-fill-space"></li>
    <li title="{{ netConnected ? 'Sign out' : 'Offline mode!'}}"><a [ngClass]="{'is-active': activeItemNumber === 4 , 'is-disabled': !netConnected}" (click)="signout()"><span class="icon-sign-out"></span></a></li>
    <li title="Report bug" id="bug-report-icon">
      <a [ngClass]="{'is-active': activeItemNumber === 5 }" (click)="togglePendulumNotifications()">
        <span class="icon-bug"></span>
        <span class="ps-notification-count">!</span>
      </a>
    </li>
  </ul>
</aside>

<notification #notifications *ngIf="notificationIsActive" class="ps-notifications-container ps-notifications-container-top"
              [user]="user" (clickedOutSideOfNotification)="clickedOutSideOfNotification($event)"></notification>

<article id="bug-report" class="message ps-notifications-container ps-alert-bottom" *ngIf="pendulumNotification">
  <div class="message-body">
    <p class="ps-bug-report-text">
      <strong><span class="icon-error"></span> THIS IS ALPHA SOFTWARE.</strong>
      <br>
      This software is pre-release, which means there are likely to be bugs our testing didn't catch. So be aware of data loosing.
      <br>
      Please inform us about that bugs we didn't catch in our testing <a href="https://github.com/Swing-team/pendulums-web-client/issues" target="_blank"> here</a>.
    </p>
  </div>
</article>


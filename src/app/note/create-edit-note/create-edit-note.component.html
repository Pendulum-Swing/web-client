<form
  class="create-edit-note"
  (ngSubmit)="createEditNote()"
  #createEditNoteForm="ngForm"
  novalidate
  [ngClass]="{'ps-project-create-palette-item-back-white1': note.colorPalette == 0,
                             'ps-project-create-palette-item-back-salmon': note.colorPalette == 1,
                             'ps-project-create-palette-item-back-blue': note.colorPalette == 2,
                             'ps-project-create-palette-item-back-black': note.colorPalette == 3,
                             'ps-project-create-palette-item-back-yellow': note.colorPalette == 4,
                             'ps-project-create-palette-item-back-pink': note.colorPalette == 5,
                             'ps-project-create-palette-item-back-red': note.colorPalette == 6,
                             'ps-project-create-palette-item-back-green': note.colorPalette == 7}"
  >
  <div class="is-centered">
    <div dir="auto">
        <div class="columns is-mobile is-centered">
            <div class="column is-half">
              <input [(ngModel)]="note.title" name="title" class="input ps-header-input"
              placeholder="Untitled Note..." type="text" [ngClass]="{'ps-project-create-palette-item-back-white1': note.colorPalette == 0,
              'ps-project-create-palette-item-back-salmon': note.colorPalette == 1,
              'ps-project-create-palette-item-back-blue': note.colorPalette == 2,
              'ps-project-create-palette-item-back-black': note.colorPalette == 3,
              'ps-project-create-palette-item-back-yellow': note.colorPalette == 4,
              'ps-project-create-palette-item-back-pink': note.colorPalette == 5,
              'ps-project-create-palette-item-back-red': note.colorPalette == 6,
              'ps-project-create-palette-item-back-green': note.colorPalette == 7}">
            </div>
          </div>
      <div class="columns">
        <div class="column column has-text-centered">
            <textarea id="tiny"></textarea>
        </div>
      </div>
      <div class="ps-submit-button">
        <p class="control">
          <button class="button is-primary is-fullwidth is-loading"
                  type="submit" [disabled]="formSubmitted" [ngClass]="{'is-loading': formSubmitted}">
            Create
          </button>
        </p>
      </div>
    </div>
  </div>
</form>
<div class="columns">
  <div class="column">
    <div class="field">
        <div class="control">
          <div class="select">
            <select class="ps-body-input" [(ngModel)]="note.project" name="project">
              <option [ngValue]='none'>projects list</option>
              <option [ngValue]='project.id' *ngFor='let project of projectsCopy; trackBy: projectsTrackBy'>{{project.name}}</option>
            </select>
          </div>
        </div>
    </div>
  </div>
  <div class="column has-text-centered">
      <div class="ps-project-create-color-picker-container">
          <div class="ps-project-create-palette-container">
            <p class="ps-project-create-color" title="pick a color">
              <a id="id2" class="button is-fullwidth" (click)="togglePalette()"
                 [ngClass]="{'ps-project-create-palette-item-back-white1': note.colorPalette == 0,
                             'ps-project-create-palette-item-back-salmon': note.colorPalette == 1,
                             'ps-project-create-palette-item-back-blue': note.colorPalette == 2,
                             'ps-project-create-palette-item-back-black': note.colorPalette == 3,
                             'ps-project-create-palette-item-back-yellow': note.colorPalette == 4,
                             'ps-project-create-palette-item-back-pink': note.colorPalette == 5,
                             'ps-project-create-palette-item-back-red': note.colorPalette == 6,
                             'ps-project-create-palette-item-back-green': note.colorPalette == 7}">
              </a>
            </p>
            <div #projectCreatePalette [ngStyle]="{'display': showPaletteBoolean ? 'block' : 'none'}" class="ps-project-create-palette">
              <div class="ps-project-create-palette-colors-section">
                <div *ngFor='let index of [0,1,2,3,4,5,6,7]' class="ps-project-create-palette-item">
                  <a id="id1" class="button is-fullwidth" (click)="selectColor(index)"
                     [ngClass]="{'ps-project-create-palette-item-back-white1': index == 0,
                                 'ps-project-create-palette-item-back-salmon': index == 1,
                                 'ps-project-create-palette-item-back-blue': index == 2,
                                 'ps-project-create-palette-item-back-black': index == 3,
                                 'ps-project-create-palette-item-back-yellow': index == 4,
                                 'ps-project-create-palette-item-back-pink': index == 5,
                                 'ps-project-create-palette-item-back-red': index == 6,
                                 'ps-project-create-palette-item-back-green': index == 7}">
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
  </div>
  <div class="column has-text-right">
    <span><i class="icon-archive" [ngStyle]="{'color': showIsArchive ? '#4a4a4a' : '#d2d2d2'}" (click)="archiveNote()" title="Archive"></i></span>
    <span><i class="icon-trash" (click)="deleteNote()" title="Delete Note"></i></span>
  </div>
</div>

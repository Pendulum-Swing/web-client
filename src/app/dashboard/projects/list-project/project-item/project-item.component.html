<div class="columns is-gapless is-mobile ps-project-item"
     [ngClass]="{'ps-back-pink': project.id.charCodeAt(project.id.length - 1) % 3 == 0,
      'ps-back-lawnGreen': project.id.charCodeAt(project.id.length - 1) % 3 == 1,
       'ps-back-yellow': project.id.charCodeAt(project.id.length - 1) % 3 == 2}">
  <figure class="image ps-project-image-container"
    [ngStyle]="{'background-image': project.image ? 'url(' + config.imagesEndpoint + '/projects/' + project.image + ')' :
         'url(http://bulma.io/images/placeholders/640x480.png)'}">
    <div class="ps-image-caption">
      <span class="is-pulled-left">
        <i class="icon-settings ps-picture-icon"></i>
      </span>
      <span class="is-pulled-right">
        <i class="icon-statistic ps-picture-icon"></i>
      </span>
    </div>
  </figure>
  <div class="column ps-project-footer-container">
    <div class="has-text-left ps-title" [ngClass]="{'ps-task-input-container': startTask}">
      <span class="subtitle is-inline-block">
        <p *ngIf="!startTask">{{project.name}}</p>
        <input [(ngModel)]="taskName" class="input ps-task-input"
               placeholder="Task Name" type="text" *ngIf="startTask">
      </span>
      <span class="is-pulled-right is-inline-block ps-item-card-button" (click)="toggleTimer()">
        <i>{{startTask ? '■' : '►'}}</i>
      </span>
    </div>
    <div>
      <div class="has-text-left ps-text-padding ps-item-font-size-1 ps-project-header-ellipsis">
        <span>Owned by: </span>
        <span class="ps-owner-name">
          <b>{{project.owner.name ? project.owner.name : project.owner.email}}</b>
        </span>
      </div>
    </div>
    <div class="ps-title">
      <table class="table ps-item-table">
        <tbody>
        <tr *ngFor="let activity of activities |slice:0:2">
          <td>{{activity.name}}</td>
          <td class="row-narrow has-text-right">
            <i class="icon-error"></i>
            {{activity.hour}}
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <div class="ps-project-footer is-full">
      <div class="has-text-left ps-member-image-container">
        <span *ngFor="let member of project.teamMembers|slice:0:4">
          <img class="ps-member-image"
               src="{{member.profileImage? config.imagesEndpoint + '/profile/' + member.profileImage :
                      'http://bulma.io/images/placeholders/640x480.png'}}" >
        </span>
      </div>
      <span class="is-pulled-left">
        12 $/h
      </span>
      <span class="is-pulled-right">
        <i class=" icon-trainers-list">
          {{project.teamMembers.length}}
        </i>
      </span>
    </div>
  </div>
</div>

<form *ngIf="!readOnly" (ngSubmit)="updateProject()" #test="ngForm" novalidate>
  <div dir="auto" class="ps-container">
    <div class="ps-image-container">
      <div style="padding: unset">
        <div>
          <input #projectImageElem type="file" name="projectImage" style="display:none" (change)="getFiles($event)"
                accept="image/">
          <figure [ngStyle]="{'background-image': previewImage ? 'url(' + previewImage + ')' : 'url(\'../../../../../assets/images/placeholder.png\')'}"
          (click)="projectImageElem.click()" class="ps-image-resize">
          </figure>
        </div>
      </div>
      <div style="display: none;">
        <img #canvasPreviewImageElem [src]="canvasPreviewImage" style="max-width: unset;" (load)="resizeImage()">
        <canvas #projectImageCanvasElem></canvas>
      </div>
      <span (click)="projectImageElem.click()" class="icon-pencil ps-pencil-image-change" ></span>
    </div>
    <div>
      <div class="field">
        <p class="control">
          <input [(ngModel)]="clonedProject.name" name="name" class="input ps-header-input"
                placeholder="untitled project..." type="text">
        </p>
      </div>
    </div>
    <!--<div class="ps-checkbox-container">-->
    <!--<span class="ps-text-gray-small">Members can see other members</span>-->
    <!--<swing-switch [defaultValue]="false"></swing-switch>-->
    <!--</div>-->
    <!--<div class="ps-checkbox-container">-->
    <!--<span class="ps-text-gray-small">Members can edit their activities</span>-->
    <!--<swing-switch [defaultValue]="false"></swing-switch>-->
    <!--</div>-->

    <p class="control">
      <button class="button is-primary"
              type="submit" [disabled]="formSubmitted" [ngClass]="{'is-loading': formSubmitted}">
        Update project
      </button>
    </p>
  </div>
</form>

<div *ngIf="readOnly" dir="auto" class="ps-container">
  <div class="ps-image-container">
    <div style="padding: unset">
      <figure class="image is-1by1">
        <img [src]="clonedProject.image ? previewImage : '../../../../../assets/images/placeholder.png'">
      </figure>
    </div>
  </div>
  <div class="ps-project-name-container">
    <span class="ps-header-input">
      Project name:
    </span>
    <span class="ps-header-input">
    {{clonedProject.name}}
    </span>
  </div>
</div>

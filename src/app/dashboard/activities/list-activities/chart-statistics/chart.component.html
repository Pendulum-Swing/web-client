<div class="ps-chart-wrapper" *ngIf="selectedUsers.length > 0 && parentHasActivity">
  <div class="ps-chart-calendar-wrapper">
    <input [(ngModel)]="dateString" type="text" (focus)="showCalender()" >
    <div class="ps-calendar-range-wrapper" *ngIf="calenderShow">
      <button class="button is-pulled-right is-small ps-close-calender-button"
              (click)="closeCalender()">
        <span class="icon is-small">X</span>
      </button>
      <swing-calendar (rangeSelected)="updateDates($event)" calendarType="range"
                      [startRangeInput]="fromDate" [endRangeInput]="toDate - 86400000"></swing-calendar>
    </div>
  </div>
  <div class="ps-ngx-chart-wrapper">
    <ngx-charts-bar-vertical-stacked class="ps-chart" *ngIf="multiLevelData.length > 0"
      [results]="multiLevelData"
      [animations]="true"
      [legend]="true"
      [legendPosition]="'below'"
      [legendTitle]="''"
      [xAxis]="true"
      [yAxis]="true"
      [showGridLines]="true"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      [trimYAxisTicks]="false"
      [yAxisTickFormatting]="formatDateTick"
    >
      <ng-template #tooltipTemplate let-model="model">
        <h1>{{ model.series + ' | ' + model.extras.userName }}</h1>
        <h2>{{ formatDateTick(model.value) }}</h2>
      </ng-template>
    </ngx-charts-bar-vertical-stacked>
  </div>
</div>

<div class="ps-chart-placeholder" *ngIf="selectedUsers.length === 0 || !parentHasActivity">
  <figure class="image">
    <img src="assets/images/placeholder.png">
  </figure>
  <p *ngIf="selectedUsers.length > 0 && !parentHasActivity">There is no activity yet!</p>
  <p *ngIf="selectedUsers.length === 0 ">Please select a member to show statistics</p>
</div>
